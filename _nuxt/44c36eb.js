(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{337:function(t,e,n){var o=n(14),c="["+n(338)+"]",r=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),d=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(r,"")),2&t&&(n=n.replace(l,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},338:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},342:function(t,e,n){"use strict";var o=n(8),c=n(3),r=n(103),l=n(15),d=n(10),f=n(34),m=n(215),v=n(69),_=n(5),h=n(104),x=n(70).f,k=n(25).f,y=n(11).f,w=n(337).trim,C=c.Number,N=C.prototype,I="Number"==f(h(N)),D=function(t){var e,n,o,c,r,l,d,code,f=v(t,!1);if("string"==typeof f&&f.length>2)if(43===(e=(f=w(f)).charCodeAt(0))||45===e){if(88===(n=f.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(f.charCodeAt(1)){case 66:case 98:o=2,c=49;break;case 79:case 111:o=8,c=55;break;default:return+f}for(l=(r=f.slice(2)).length,d=0;d<l;d++)if((code=r.charCodeAt(d))<48||code>c)return NaN;return parseInt(r,o)}return+f};if(r("Number",!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var S,A=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof A&&(I?_((function(){N.valueOf.call(n)})):"Number"!=f(n))?m(new C(D(e)),n,A):D(e)},j=o?x(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;j.length>E;E++)d(C,S=j[E])&&!d(A,S)&&y(A,S,k(C,S));A.prototype=N,N.constructor=A,l(c,"Number",A)}},351:function(t,e,n){var content=n(403);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(62).default)("1306af4e",content,!0,{sourceMap:!1})},401:function(t,e,n){n(2)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},402:function(t,e,n){"use strict";var o=n(351);n.n(o).a},403:function(t,e,n){(e=n(61)(!1)).push([t.i,".sound-content{padding-left:14px;padding-right:14px}.more-settings{font-size:20px;font-weight:400;margin-top:20px;cursor:pointer}.el-button-group__append{background-color:#0b76bd}.form-content{margin-bottom:6px}.form-content p{font-weight:550;margin-bottom:8px}.blue-color{color:#1f4de4}.red-color{color:#d44b4b}.red-color-disabled{color:rgba(212,75,75,.644)}.sound-more{margin-bottom:5px;-webkit-user-select:none}.remove-card{margin-left:100%}.add-area,.remove-card{cursor:pointer;-webkit-user-select:none}.add-area{margin-left:8px;margin-right:8px}.disabled-icon{color:rgba(0,0,0,60%)}.card-id{font-size:10px;font-weight:700;margin-bottom:20px;color:rgba(46,46,46,.95)}.add-more{font-size:30px}.top-spacing{margin-top:15px}",""]),t.exports=e},502:function(t,e,n){"use strict";n.r(e);n(152),n(349),n(19),n(46),n(44);var o=n(6),c=n(335),r=n.n(c),l=(n(342),n(401),n(66),n(153),n(336));function d(t,e){for(var path=e.path,n=e.functionPath,o=e.sound,c=e.volume,r=e.distance,l=e.toneScore,d="",f="",m=0,v="@a".concat(r>0?"[distance=0..".concat(r,"]"):""),i=0;i<=24;i+=1){var _=Math.round(1e7*(Math.pow(2,(i-12)/12)+Number.EPSILON))/1e7;d=d.concat("execute if score ".concat(l," _mbtmp matches ").concat(i," run playsound ").concat(o," block ").concat(v," ~ ~ ~ ").concat(c[1]," ").concat(_," ").concat(c[0],"\n")),i%4==0&&i>0&&(t.file(["".concat(path,"/").concat(i,".mcfunction")],d),d="",f=f.concat("execute if score ".concat(l," _mbtmp matches ").concat(m,"..").concat(i," run function ").concat(n,"/").concat(i,"\n")),m=i)}return f}function f(t,e,n,path){t.file(["".concat(path,"/tree/0.mcfunction")],d(t,{path:"".concat(path,"/tree/0"),functionPath:"".concat(e,"/0"),sound:n.sound,volume:n.volume,distance:n.distance,toneScore:"#tone"}));var o=d(t,{path:"".concat(path,"/tree/-1"),functionPath:"".concat(e,"/-1"),sound:"".concat(n.sound,"_-1"),volume:n.volume,distance:n.distance,toneScore:"#t_tone"});t.file(["".concat(path,"/tree/-1.mcfunction")],"scoreboard players operation #t_tone _mbtmp = #tone _mbtmp\nscoreboard players add #t_tone _mbtmp 24\n".concat(o));var c=d(t,{path:"".concat(path,"/tree/1"),functionPath:"".concat(e,"/1"),sound:"".concat(n.sound,"_1"),volume:n.volume,distance:n.distance,toneScore:"#t_tone"});t.file(["".concat(path,"/tree/1.mcfunction")],"scoreboard players operation #t_tone _mbtmp = #tone _mbtmp\nscoreboard players remove #t_tone _mbtmp 24\n".concat(c))}function m(){return(m=Object(o.a)(regeneratorRuntime.mark((function t(e,n){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.generateAsync({type:"blob"});case 2:data=t.sent,Object(l.saveAs)(data,n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e){var n=["","","",[]],o=new r.a;o.folder("data/minecraft/tags/functions"),o.folder("data/mb_plugin/tags"),o.folder("data/".concat(t,"/functions")),o.file(["data/".concat(t,"/functions/load.mcfunction")],'tellraw @a ["",{"text":"[MusicBlocks] ","color":"dark_gray"},{"text":"Sound Addon Loaded: ", "color":"blue"},{"text": "'.concat(t.replace("_"," "),'.","color":"aqua"}]'));for(var c=0;c<e.data.length;c+=1)o.folder("data/".concat(t,"/functions/x_private/").concat(c,"/tree")),f(o,"".concat(t,":x_private/").concat(c,"/tree"),e.data[c],"data/".concat(t,"/functions/x_private/").concat(c)),o.file(["data/".concat(t,"/functions/x_private/").concat(c,"/play.mcfunction")],"execute if score #tone _mbtmp matches -24..-1 run function ".concat(t,":x_private/").concat(c,"/tree/-1\nexecute if score #tone _mbtmp matches 0..24 run function ").concat(t,":x_private/").concat(c,"/tree/0\nexecute if score #tone _mbtmp matches 25..48 run function ").concat(t,":x_private/").concat(c,"/tree/1")),n[0]=n[0].concat("execute if score #sound _mbtmp matches ".concat(c+e.packID," run function ").concat(t,":x_private/").concat(c,"/play\n")),n[1]=n[1].concat("execute if score #sound _mbtmp matches ".concat(c+e.packID," run setblock ~ ~ ~ ").concat(e.data[c].block,"\n")),n[2]=n[2].concat("execute if block ~ ~ ~ ".concat(e.data[c].block," run scoreboard players set #sound _mbtmp ").concat(c+e.packID,"\n")),n[3].push(e.data[c].block);o.file(["data/".concat(t,"/functions/play.mcfunction")],"execute if score #sound _mbtmp matches ".concat(e.data.length>0?"".concat(e.packID,"..").concat(e.packID+e.data.length):e.packID," run function ").concat(t,":x_private/play")),o.file(["data/".concat(t,"/functions/x_private/play.mcfunction")],n[0]),o.file(["data/".concat(t,"/functions/set.mcfunction")],n[1]),o.file(["data/".concat(t,"/functions/get.mcfunction")],n[2]),o.file(["data/mblock/tags/blocks/soundable.json"],'{"values": '.concat(JSON.stringify(n[3]),"}")),o.file(["data/mb_plugin/tags/functions/sound/play.json"],'{"values": ["'.concat(t,':play"]}')),o.file(["data/mb_plugin/tags/functions/sound/set.json"],'{"values": ["'.concat(t,':set"]}')),o.file(["data/mb_plugin/tags/functions/sound/get.json"],'{"values": ["'.concat(t,':get"]}')),o.file(["data/minecraft/tags/functions/load.json"],'{"values": ["'.concat(t,':load"]}')),o.file(["pack.mcmeta"],JSON.stringify({pack:{pack_format:6,description:"§7MusicBlocks: §aCustom Sounds (".concat(t,").")}})),o.file(["sounds_settings.json"],function(t){for(var e={packID:t.packID,data:[]},i=0;i<t.data.length;i+=1)e.data.push({sound:t.data[i].sound,block:t.data[i].block,volume:t.data[i].volume,distance:t.data[i].distance});return JSON.stringify(e)}(e)),function(t,e){m.apply(this,arguments)}(o,"mblock_".concat(t,".zip"))}var _={data:function(){return{file:[],packName:"custom_sounds",sounds:{packID:16,data:[{id:0,sound:"minecraft:block.stone.hit",block:"diamond_block",volume:[0,3],distance:75,show_extra:!1}]}}},methods:{loadZip:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.t0=JSON,n.next=4,t.file("sounds_settings.json").async("string");case 4:for(n.t1=n.sent,o=n.t0.parse.call(n.t0,n.t1),e.sounds.data=[],e.sounds.packID=o.packID,i=0;i<o.data.length;i+=1)e.sounds.data.push({id:i,sound:o.data[i].sound,block:o.data[i].block,volume:o.data[i].volume,distance:o.data[i].distance,show_extra:!1});e.$message({type:"success",message:"Load Completed!"}),n.next=16;break;case 12:n.prev=12,n.t2=n.catch(0),e.$message({type:"error",message:"Couldn't find settings in file!"});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},processFile:function(t){var e=this;this.$confirm("This will overwrite current settings. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){r.a.loadAsync(t).then(e.loadZip).catch((function(){e.$message({type:"error",message:"Failed to load ZIP File!"})})),e.$refs.upload.clearFiles()})).catch((function(){e.$message({type:"info",message:"Loading Cancelled!"}),e.$refs.upload.clearFiles()}))},handleDelete:function(t){this.sounds.data.splice(t,1)},handleAdd:function(){this.sounds.data.push({id:this.sounds.data.length,sound:"",block:"",volume:[0,3],distance:75,show_extra:!1})},removeAll:function(){this.sounds.data=[],this.handleAdd()},formatVolume:function(t){return"".concat(Math.ceil(100*parseFloat(t)/3).toString(),"% (").concat(t,")")},formatDistance:function(t){return t>0?"".concat(t," blocks"):"Disabled"},formatAdd:function(){return"".concat(20-this.sounds.data.length," left")},formatDownload:function(){return"".concat(this.sounds.data.length," to process.")},formatDelete:function(){return this.sounds.data.length>1?"Delete Card":"Delete Disabled"},download:function(t){var e=this;t.preventDefault(),this.warningShowed?(v(this.packName,this.sounds),this.$message({message:"The download should start in a few seconds.",type:"success"})):this.$alert("Make sure you have the rights of your sounds (If recording or related).","Warning",{confirmButtonText:"OK",callback:function(){e.warningShowed=!0,v(e.packName,e.sounds),e.$message({message:"The download should start in a few seconds.",type:"success"})}})}}},h=(n(402),n(26)),component=Object(h.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:t.download}},[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"scroll"},[n("transition-group",{attrs:{name:"fade",tag:"ul",mode:"out-in"}},t._l(t.sounds.data,(function(e,o){return n("el-card",{key:e.id,staticClass:"fade-item"},[n("div",{staticClass:"sound-content"},[n("el-row",[n("el-col",{attrs:{span:12}},[n("p",{staticClass:"card-id"},[t._v("#"+t._s(o+1))])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-tooltip",{staticClass:"remove-card",attrs:{placement:"bottom",content:t.formatDelete()}},[t.sounds.data.length>1?n("i",{staticClass:"el-icon-delete-solid red-color",on:{click:function(e){return t.handleDelete(o)}}}):n("i",{staticClass:"el-icon-delete-solid red-color-disabled"})])],1)],1),t._v(" "),n("div",[n("div",{staticClass:"form-content"},[n("p",[t._v("Sound Path")]),t._v(" "),n("el-input",{attrs:{pattern:"[a-z0-9_\\-:\\.]+",type:"text",required:""},model:{value:e.sound,callback:function(n){t.$set(e,"sound",n)},expression:"o.sound"}})],1),t._v(" "),n("div",{staticClass:"form-content"},[n("p",[t._v("Block Name")]),t._v(" "),n("el-input",{attrs:{pattern:"[a-z_\\-:\\.]+",type:"text",required:""},model:{value:e.block,callback:function(n){t.$set(e,"block",n)},expression:"o.block"}})],1)]),t._v(" "),n("el-row",{staticClass:"sound-more",attrs:{justify:"center",type:"flex"}},[n("span",{staticClass:"more-settings",on:{click:function(t){e.show_extra=!e.show_extra}}},[t._v("More Settings\n                "),e.show_extra?n("i",{staticClass:"el-icon-caret-bottom blue-color"}):n("i",{staticClass:"el-icon-caret-top blue-color"})])]),t._v(" "),e.show_extra?n("div",[n("el-divider"),t._v(" "),n("div",{staticClass:"form-content"},[n("p",[t._v("Volume")]),t._v(" "),n("el-slider",{attrs:{min:0,max:6,step:.25,"format-tooltip":t.formatVolume,range:""},model:{value:e.volume,callback:function(n){t.$set(e,"volume",n)},expression:"o.volume"}})],1),t._v(" "),n("div",{staticClass:"form-content"},[n("p",[t._v("Hear Distance")]),t._v(" "),n("el-slider",{attrs:{min:0,max:100,step:5,"format-tooltip":t.formatDistance,"show-stops":""},model:{value:e.distance,callback:function(n){t.$set(e,"distance",n)},expression:"o.distance"}})],1)],1):t._e()],1)])})),1),t._v(" "),n("ul",[n("el-card",{staticStyle:{width:"90%"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-divider",[n("el-col",{attrs:{span:12}},[t.sounds.data.length<20?n("div",{staticClass:"add-area",on:{click:t.handleAdd}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("i",{staticClass:"el-icon-circle-plus add-more"})]),t._v(" "),n("p",[t._v("Add")])],1):n("div",{staticClass:"add-area disabled-icon"},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("i",{staticClass:"el-icon-circle-plus add-more"})]),t._v(" "),n("p",[t._v("Add")])],1)]),t._v(" "),n("el-col",{attrs:{span:12}},[t.sounds.data.length>1?n("div",{staticClass:"add-area",on:{click:t.removeAll}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("i",{staticClass:"el-icon-remove add-more"})]),t._v(" "),n("p",[t._v("Clear")])],1):n("div",{staticClass:"add-area disabled-icon"},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("i",{staticClass:"el-icon-remove add-more"})]),t._v(" "),n("p",[t._v("Clear")])],1)])],1)],1)],1)],1)],1)]),t._v(" "),n("el-col",{staticStyle:{"padding-left":"8px"},attrs:{span:12}},[n("el-card",[n("div",{staticClass:"form-content"},[n("el-input",{attrs:{pattern:"[a-z0-9_]+",placeholder:"Datapack Name",required:""},model:{value:t.packName,callback:function(e){t.packName=e},expression:"packName"}})],1),t._v(" "),n("el-row",{staticClass:"top-spacing",attrs:{type:"flex",justify:"center"}},[n("el-tooltip",{attrs:{content:t.formatDownload(),"popper-class":"primary"}},[n("el-button",{attrs:{type:"success","native-type":"submit"}},[t._v("Download")])],1),t._v(" "),n("a",{staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{href:"https://github.com/kadmuffin/mblock-datapack/blob/master/docs/custom_sounds.md"}},[n("el-button",{attrs:{type:"info"}},[t._v("How to Use")])],1)],1)],1),t._v(" "),n("el-card",[n("el-row",[n("div",{staticClass:"form-content"},[n("p",[t._v("SoundPack ID")])]),t._v(" "),n("el-input-number",{staticStyle:{width:"100%"},attrs:{min:16,max:1e3},model:{value:t.sounds.packID,callback:function(e){t.$set(t.sounds,"packID",e)},expression:"sounds.packID"}})],1)],1),t._v(" "),n("el-card",[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-upload",{ref:"upload",attrs:{drag:"",action:"",limit:1,"show-file-list":!1,multiple:!1,"file-list":t.file,"before-upload":t.processFile}},[n("i",{staticClass:"el-icon-upload"}),t._v(" "),n("div",{staticClass:"el-upload__text"},[t._v("\n            Drop datapack zip here or "),n("em",[t._v("click here.")])])])],1)],1),t._v(" "),n("el-card",[n("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("Home")]),t._v(" "),n("el-breadcrumb-item",[t._v("Tools")]),t._v(" "),n("el-breadcrumb-item",[t._v("Custom Addons")]),t._v(" "),n("el-breadcrumb-item",[t._v("Sounds")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);